}

        const coinEl = document.getElementById('coin');
        coinEl.addEventListener('touchstart', (e) => { e.preventDefault(); doTap(e); });
        coinEl.addEventListener('mousedown', doTap);

        // Реклама (НОВИЙ ID: 20870)
        document.getElementById('ad-btn').addEventListener('click', () => {
            const AdController = window.Adsgram.init({ blockId: "20870" });
            AdController.show().then(() => {
                tg.showAlert("Енергію відновлено! Продовжуй клікати.");
            }).catch(() => {
                tg.showAlert("Реклама завантажується. Спробуй через хвилину.");
            });
        });

        updateUI();
    </script>
</body>
</html>
