<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://sad.adsgram.ai/js/adsgram-ad-sdk.js"></script>
    <style>
        body { background: #000; color: #fff; text-align: center; font-family: sans-serif; user-select: none; touch-action: manipulation; margin: 0; padding-top: 50px; }
        #bal { font-size: 60px; font-weight: bold; color: gold; margin-bottom: 20px; }
        #coin { 
            width: 250px; height: 250px; background: orange; border-radius: 50%; 
            display: inline-flex; align-items: center; justify-content: center; 
            font-size: 100px; cursor: pointer; border: 10px solid #333;
        }
        #coin:active { transform: scale(0.95); }
        .btn-ad { margin-top: 40px; padding: 10px 20px; background: #222; border: 1px solid gold; color: gold; border-radius: 10px; }
    </style>
</head>
<body>
    <div id="bal">0</div>
    <div id="coin">üêπ</div>
    <br>
    <button class="btn-ad" id="ad-btn">–°–ú–û–¢–†–ï–¢–¨ –†–ï–ö–õ–ê–ú–£</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let count = parseInt(localStorage.getItem('coins')) || 0;
        const balEl = document.getElementById('bal');
        const coinEl = document.getElementById('coin');
        
        balEl.innerText = count;

        function doTap() {
            count++;
            balEl.innerText = count;
            localStorage.setItem('coins', count);
            tg.HapticFeedback.impactOccurred('medium');
        }

        // –°–∞–º—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–ª–∏–∫–∞
        coinEl.onclick = doTap;

        // –†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫ 20870
        document.getElementById('ad-btn').onclick = () => {
            const AdController = window.Adsgram.init({ blockId: "20870" });
            AdController.show().then(() => {
                tg.showAlert("–†–µ–∫–ª–∞–º–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–∞!");
            }).catch(() => {
                tg.showAlert("–†–µ–∫–ª–∞–º–∞ –µ—â–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...");
            });
        };
    </script>
</body>
</html>
